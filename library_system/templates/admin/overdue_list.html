{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/admin_custom.css' %}">
{% endblock %}

{% block title %}–°–ø–∏—Å–æ–∫ –∑–∞–¥–æ–ª–∂–Ω–∏–∫–æ–≤ | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">üìã –ó–∞–¥–æ–ª–∂–Ω–∏–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</a></h1>
{% endblock %}

{% block content_title %}<h1>–°–ø–∏—Å–æ–∫ –∑–∞–¥–æ–ª–∂–Ω–∏–∫–æ–≤</h1>{% endblock %}

{% block content %}
<div class="module">
    <p class="current-date"><strong>–ù–∞ {{ today|date:"d.m.Y" }}</strong></p>

    {% if overdue_borrowings %}
    <div class="results">
        <table class="overdue-table">
            <thead>
                <tr>
                    <th>üë§ –ß–∏—Ç–∞—Ç–µ–ª—å</th>
                    <th>üìö –ö–Ω–∏–≥–∞</th>
                    <th>üìÖ –î–∞—Ç–∞ –≤—ã–¥–∞—á–∏</th>
                    <th>‚è∞ –°—Ä–æ–∫ –≤–æ–∑–≤—Ä–∞—Ç–∞</th>
                    <th>‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–∫–∞</th>
                </tr>
            </thead>
            <tbody>
                {% for borrowing in overdue_borrowings %}
                <tr class="{% cycle 'row1' 'row2' %}">
                    <td><strong>{{ borrowing.user.get_full_name|default:borrowing.user.username }}</strong></td>
                    <td>{{ borrowing.book.title }}</td>
                    <td>{{ borrowing.borrowed_date|date:"d.m.Y" }}</td>
                    <td>{{ borrowing.due_date|date:"d.m.Y" }}</td>
                    <td>
                        <span class="overdue-badge">{{ borrowing.overdue_days }} –¥–Ω–µ–π</span>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="empty-state">
        <p>üéâ –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –∑–∞–¥–æ–ª–∂–Ω–∏–∫–æ–≤!</p>
    </div>
    {% endif %}
</div>
{% endblock %}