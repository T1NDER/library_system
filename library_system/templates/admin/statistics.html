{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/admin_custom.css' %}">
{% endblock %}

{% block title %}–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥ | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</a></h1>
{% endblock %}

{% block content_title %}<h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥</h1>{% endblock %}

{% block content %}
<div class="module">
    <div class="form-row">
        <form method="get" class="date-filter-form">
            <div class="date-fields">
                <label><strong>–°:</strong> <input type="date" name="start_date" value="{{ start_date }}" class="date-input"></label>
                <label><strong>–ü–æ:</strong> <input type="date" name="end_date" value="{{ end_date }}" class="date-input"></label>
                <button type="submit" class="admin-button">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä</button>
            </div>
        </form>
    </div>

    <div class="stats-container">
        <div class="stats-section">
            <h2>üìö –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–Ω–∏–≥ –∑–∞ –ø–µ—Ä–∏–æ–¥</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">{{ books_stats.total }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∫–Ω–∏–≥ –¥–æ–±–∞–≤–ª–µ–Ω–æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ books_stats.available }}</div>
                    <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ –∫–Ω–∏–≥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ books_stats.borrowed }}</div>
                    <div class="stat-label">–í—ã–¥–∞–Ω–æ –∫–Ω–∏–≥</div>
                </div>
            </div>
        </div>

        <div class="stats-section">
            <h2>üîÑ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–¥–∞—á –∑–∞ –ø–µ—Ä–∏–æ–¥</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">{{ borrowing_stats.total_borrowings }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –≤—ã–¥–∞—á</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ borrowing_stats.returned }}</div>
                    <div class="stat-label">–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">{{ borrowing_stats.active }}</div>
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –≤—ã–¥–∞—á</div>
                </div>
            </div>
        </div>

        <div class="stats-section">
            <h2>üìà –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–≤—Å–µ –≤—Ä–µ–º—è)</h2>
            <div class="stats-grid">
                <div class="stat-card total">
                    <div class="stat-number">{{ total_stats.total_books }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –∫–Ω–∏–≥ –≤ —Å–∏—Å—Ç–µ–º–µ</div>
                </div>
                <div class="stat-card total">
                    <div class="stat-number">{{ total_stats.total_users }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                </div>
                <div class="stat-card total">
                    <div class="stat-number">{{ total_stats.total_borrowings }}</div>
                    <div class="stat-label">–í—Å–µ–≥–æ –≤—ã–¥–∞—á</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}