{% extends "admin/base_site.html" %}
{% load static %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/admin_reports.css' %}">
{% endblock %}

{% block title %}–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</a></h1>
{% endblock %}

{% block content_title %}<h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–¥–∞—á–∏ –ø–æ –º–µ—Å—è—Ü–∞–º</h1>{% endblock %}

{% block content %}
<div class="admin-report">
    <div class="report-period">
        <p>–ü–µ—Ä–∏–æ–¥: <strong>{{ start_date }} - {{ end_date }}</strong></p>
    </div>

    <div class="stats-overview">
        <div class="stat-card">
            <div class="stat-number">{{ total_borrowings }}</div>
            <div class="stat-label">–í—Å–µ–≥–æ –≤—ã–¥–∞—á –∑–∞ –≥–æ–¥</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">{{ avg_per_month }}</div>
            <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤ –º–µ—Å—è—Ü</div>
        </div>
    </div>

    <div class="chart-container">
        <h2>–í—ã–¥–∞—á–∏ –∫–Ω–∏–≥ –ø–æ –º–µ—Å—è—Ü–∞–º</h2>
        <table class="chart-table">
            <thead>
                <tr>
                    <th>–ú–µ—Å—è—Ü/–ì–æ–¥</th>
                    <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞—á</th>
                    <th>–ì—Ä–∞—Ñ–∏–∫</th>
                </tr>
            </thead>
            <tbody>
                {% for item in monthly_data %}
                <tr>
                    <td><strong>{{ item.period }}</strong></td>
                    <td>{{ item.count }} –≤—ã–¥–∞—á</td>
                    <td>
                        <div class="chart-visual">
                            <span class="chart-number">{{ item.count }}</span>
                            <div class="chart-bar-container">
                                <div class="chart-bar">
                                    {{ item.count }}
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}